<!--

    Autor: Florian Wachter
    E-Mail: florian.wachter@tum.de
    Date: 22.06.2015


    This is the template for the status report file. The Graphs are done with RGraph
    The Style Sheet is located in the style.css file.
    Parts surrounded with "Start of constraint html part" and "End of ..." are deleted if the
    optimization problem is unconstrained.

    This document is divided into 3 parts.
        * Definition of the html layout and its context.
        * Javascript code with generates the diagrams and handles buttons etc.
        * Templates for the tables which are shown when the user presses the "Show data in table" button

-->

<!DOCTYPE html >
<html>
<head>
    <link rel="stylesheet" href="demos.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="../style.css" type="text/css" media="screen"/>

    <script src="../jquery.min.js"></script>
    <script src="../RGraph.common.core.js"></script>
    <script src="../RGraph.scatter.js"></script>
    <script src="../RGraph.common.dynamic.js"></script>
    <script src="../RGraph.common.resizing.js"></script>
    <script src="../RGraph.common.key.js"></script>
    <script src="../RGraph.common.tooltips.js"></script>

    <title>Statusmonitoring</title>

    <meta http-equiv="refresh" content="300">


</head>
<body onresize="resizeGraphs()">
<div id="banner">
    <div style="float: left;margin: 0px 0px 0px 60px;"><img src="../title_tum.png" alt="titelbild" height="85"></div>
    <div style="float: right;margin: 0px 60px 0px 0px;"><img src="../CM.png" alt="titelbild" height="85"></div>
    <center><h1>Design Optimization Status Report<br><font size="5">of</font><br>xxxxName<br>
        <font size="5">Last Update: xxxxTime</font></h1></center>
</div>

<div id="nav_div">
    <ul id="nav">
        <li id="nav1" onclick="showGraph1()">Objective and maximum constraint</li>
        <li id="nav2" onclick="showGraph2()">Design variables</li>
        <li id="nav5" onclick="showGraph5()">Design variables denormalized</li>
        <!--Start of constraint html part-->
        <li id="nav3" onclick="showGraph3()">Constraints</li>
        <li id="nav4" onclick="showGraph4()">Violated constraints</li>
        <!--End of constraint html part-->
    </ul>
</div>

<br>

<center>
    <button onclick="show_table()" id="btn_show"> Show data in table</button>

    <canvas id="cvs" width="1200" height="0600">[No canvas support]</canvas>

    <canvas id="cvs2" width="1200" height="0600">[No canvas support]</canvas>

    <canvas id="cvs5" width="1200" height="0600">[No canvas support]</canvas>

    <div id="coordinates">
        Iteration: <input size=2 type="text" id="x" />
        Value: <input size=6 type="text" id="y" />
    </div>

    <!--Start of constraint html part-->

    <canvas id="cvs3" width="1200" height="0600">[No canvas support]</canvas>

    <canvas id="cvs4" width="1200" height="0600">[No canvas support]</canvas>


</center>
<!--End of constraint html part-->


<script>


        var current_view=1;

        window.onload = drawDiagrams();

        function drawDiagrams(){

            document.getElementById("nav1").style = "background-color:#FFBF00";

			var cc=['#000000','#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#33ff33',
					'#666666','#990000','#339900','#330099','#999933','#9933ff','#66cccc',
					'#000000','#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#33ff33',
					'#666666','#990000','#339900','#330099','#999933','#9933ff','#66cccc',
					'#000000','#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#33ff33',
					'#666666','#990000','#339900','#330099','#999933','#9933ff','#66cccc',
					'#000000','#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#33ff33',
					'#666666','#990000','#339900','#330099','#999933','#9933ff','#66cccc',
					'#000000','#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff','#33ff33',
					'#666666','#990000','#339900','#330099','#999933','#9933ff','#66cccc',]

            var data1 = [xxxxValue1];
			var data2 = [xxxxValue2];
            var niter = xxxxnIter;


			var scatter2 = new RGraph.Scatter('cvs', data2)
                .Set('line', true)
				.Set('gutter.left',80)
				.Set('gutter.right',80)
				.Set('gutter.bottom',30)
				.Set('xmin',0)
                .Set('xmax',niter)
                .Set('ymin',-1)
				.Set('ticksize',7)
				.Set('tickmarks','circle')
				.Set('background.grid.vlines', false)
				.Set('chart.defaultcolor',['green'])
                .Set('labels.above.decimals',2)
				.Set('chart.yaxispos', 'right')
				.Set('line.colors',['green'])
				.Set('title.yaxis',"Value of maxmimum constraint")
				.Set('title.yaxis.position',"right")
				.Set('key', ['Maximum constraint'])
				.Set('chart.key.colors', ['green'])
				.Set('chart.key.position', 'gutter')
				.Set('chart.key.position.x', 650)
				.Set('key', ['Maximum constraint'])
				.Set('chart.key.colors', ['green'])
				.Set('chart.key.position', 'gutter')
				.Set('chart.key.position.x', 650)
				.Set('chart.resizable',true)
				.Set('chart.scale.decimals',2)
				.Set('chart.title.yaxis.pos',0.8)
                .Draw();

            var scatter1 = new RGraph.Scatter('cvs', data1)
                .Set('line', true)
				.Set('gutter.left',80)
				.Set('gutter.right',80)
				.Set('gutter.bottom',30)
				.Set('xmin',0)
                .Set('xmax',niter)
                .Set('ymin',Math.floor(xxxxObjFctmin))
                .Set('ymax',Math.ceil(xxxxObjFctmax))
				.Set('ticksize',7)
                .Set('tickmarks','diamond')
                .Set('background.grid.autofit.numvlines',niter)
				.Set('chart.defaultcolor',['blue'])
                .Set('labels.above.decimals',2)
				.Set('chart.line.colors',['blue'])
				.Set('title.yaxis',"Value of objective function")
				.Set('key', ['Objective'])
				.Set('chart.key.colors', ['blue'])
				.Set('chart.key.position', 'gutter')
				.Set('chart.key.position.x', 450)
				.Set('chart.resizable',true)
				.Set('chart.scale.decimals',2)
				.Set('chart.xscale',true)
				.Set('chart.xscale.numlabels',niter)
				.Set('chart.title.xaxis','Iteration')
				.Set('chart.title.yaxis.pos',0.2)
                .Draw();


            scatter1.canvas.onmousemove = function (e)
				{
					var obj = e.target.__object__;
					var x   = obj.getXValue(e);
					var y   = obj.getYValue(e);

					document.getElementById("x").value = x.toFixed(0);
					document.getElementById("y").value = y.toFixed(4);

				}

			var ymax = xxxxymax;
			var ymin = xxxxymin;
			xxxxdatasetf



            var scatterxall = new RGraph.Scatter('cvs2'xxxxallDesVar)
                .Set('line', true)
				.Set('gutter.left',80)
				.Set('gutter.right',80)
				.Set('gutter.bottom',30)
				.Set('noyaxis',true)
				.Set('ymin',-0.00001)
				.Set('ymax',Math.ceil(ymax))
                .Set('xmax',niter)
                .Set('background.grid.autofit.numvlines',niter)
				.Set('line.colors',cc)
				.Set('chart.resizable',true)
				.Set('chart.scale.decimals',3)
				.Set('chart.xscale',true)
				.Set('chart.xscale.numlabels',niter)
				.Set('chart.title.xaxis','Iteration')
				.Set('title.yaxis',"Value of design variables")
				.Set('chart.title.yaxis.pos',0.2)
                .Draw();

            scatterxall.canvas.onmousemove = function (e)
				{
					var obj = e.target.__object__;
					var x   = obj.getXValue(e);
					var y   = obj.getYValue(e);

					document.getElementById("x").value = x.toFixed(0);
					document.getElementById("y").value = y.toFixed(4);

				}

            var ymax = xxxxXmax;
			var ymin = xxxxXmin;
			xxxxdatasetf_denorm

             var scatterxall_denorm = new RGraph.Scatter('cvs5'xxxxallDesVar_denorm)
                .Set('line', true)
				.Set('gutter.left',80)
				.Set('gutter.right',80)
				.Set('gutter.bottom',30)
				.Set('noyaxis',true)
				.Set('background.grid.autofit.numvlines',niter)
				.Set('ymin',Math.floor(ymin))
				.Set('ymax',Math.ceil(ymax))
                .Set('xmax',niter)
				.Set('line.colors',cc)
				.Set('chart.resizable',true)
				.Set('chart.scale.decimals',3)
				.Set('chart.xscale',true)
				.Set('chart.xscale.numlabels',niter)
				.Set('chart.title.xaxis','Iteration')
				.Set('title.yaxis',"Value of design variables")
				.Set('chart.title.yaxis.pos',0.2)
                .Draw();



             scatterxall_denorm.canvas.onmousemove = function (e)
				{
					var obj = e.target.__object__;
					var x   = obj.getXValue(e);
					var y   = obj.getYValue(e);

					document.getElementById("x").value = x.toFixed(0);
					document.getElementById("y").value = y.toFixed(4);

				}

            <!--Start of constraint html part-->


			var gmax = xxxxgmax;
			var gmin = xxxxgmin;
			xxxxdatasetg

            var scattergall = new RGraph.Scatter('cvs3'xxxxallConVar)
                .Set('line', true)
				.Set('gutter.left',80)
				.Set('gutter.right',80)
				.Set('gutter.bottom',30)
				.Set('noyaxis',true)
				.Set('background.grid.autofit.numvlines',niter)
				.Set('ymin',Math.floor(gmin))
				.Set('ymax',Math.ceil(gmax))
                .Set('xmax',niter)
				.Set('line.colors',cc)
				.Set('labels.above',false)
				.Set('ticksize',5)
				.Set('chart.resizable',true)
				.Set('chart.scale.decimals',3)
				.Set('chart.xscale',true)
				.Set('chart.xscale.numlabels',niter)
				.Set('chart.title.xaxis','Iteration')
				.Set('title.yaxis',"Value of constraints")
				.Set('chart.title.yaxis.pos',0.2)
				.Set('background.hbars', [[0,Math.ceil(gmax),'rgba(255,0,0,0.1)'],[0,Math.floor(gmin),'rgba(0,255,0,0.1)']])
                .Draw();

                scattergall.canvas.onmousemove = function (e)
                   {
                       var obj = e.target.__object__;
                       var x   = obj.getXValue(e);
                       var y   = obj.getYValue(e);

                       document.getElementById("x").value = x.toFixed(0);
                       document.getElementById("y").value = y.toFixed(4);

                   }

			var scattergallpos = new RGraph.Scatter('cvs4'xxxxallConVar)
                .Set('line', true)
				.Set('gutter.left',80)
				.Set('gutter.right',80)
				.Set('gutter.bottom',30)
				.Set('noyaxis',true)
				.Set('background.grid.autofit.numvlines',niter)
				.Set('ymin',0)
				.Set('ymax',Math.ceil(gmax))
                .Set('xmax',niter)
				.Set('line.colors',cc)
				.Set('labels.above',false)
				.Set('chart.resizable',true)
				.Set('chart.scale.decimals',3)
				.Set('chart.xscale',true)
				.Set('chart.xscale.numlabels',niter)
				.Set('chart.title.xaxis','Iteration')
				.Set('title.yaxis',"Value of vioated constraints")
				.Set('chart.title.yaxis.pos',0.2)
                .Draw();

            scattergallpos.canvas.onmousemove = function (e)
                   {
                       var obj = e.target.__object__;
                       var x   = obj.getXValue(e);
                       var y   = obj.getYValue(e);

                       document.getElementById("x").value = x.toFixed(0);
                       document.getElementById("y").value = y.toFixed(4);

                   }

             <!--End of constraint html part-->


        }




		function showGraph1(){

			document.getElementById("cvs").style.visibility = "visible";
			document.getElementById("cvs2").style.visibility = "hidden";
			<!--Start of constraint html part-->
			document.getElementById("cvs3").style.visibility = "hidden";
			document.getElementById("cvs4").style.visibility = "hidden";
			<!--End of constraint html part-->
			document.getElementById("cvs5").style.visibility = "hidden";

			document.getElementById("nav1").style = "background-color:#FFBF00";
			document.getElementById("nav2").style = "background-color:#81DAF5";
			<!--Start of constraint html part-->
			document.getElementById("nav3").style = "background-color:#81DAF5";
			document.getElementById("nav4").style = "background-color:#81DAF5";
			<!--End of constraint html part-->
			document.getElementById("nav5").style = "background-color:#81DAF5";

			current_view=1;

		}

		function showGraph2(){

			document.getElementById("cvs").style.visibility = "hidden";
			document.getElementById("cvs2").style.visibility = "visible";
			<!--Start of constraint html part-->
			document.getElementById("cvs3").style.visibility = "hidden";
			document.getElementById("cvs4").style.visibility = "hidden";
			<!--End of constraint html part-->
			document.getElementById("cvs5").style.visibility = "hidden";

			document.getElementById("nav1").style = "background-color:#81DAF5";
			document.getElementById("nav2").style = "background-color:#FFBF00";
			<!--Start of constraint html part-->
			document.getElementById("nav3").style = "background-color:#81DAF5";
			document.getElementById("nav4").style = "background-color:#81DAF5";
			<!--End of constraint html part-->
			document.getElementById("nav5").style = "background-color:#81DAF5";

		    current_view=2;
		}

        <!--Start of constraint html part-->

		function showGraph3(){

			document.getElementById("cvs").style.visibility = "hidden";
			document.getElementById("cvs2").style.visibility = "hidden";
			document.getElementById("cvs3").style.visibility = "visible";
			document.getElementById("cvs4").style.visibility = "hidden";
			document.getElementById("cvs5").style.visibility = "hidden";

			document.getElementById("nav1").style = "background-color:#81DAF5";
			document.getElementById("nav2").style = "background-color:#81DAF5";
			document.getElementById("nav3").style = "background-color:#FFBF00";
			document.getElementById("nav4").style = "background-color:#81DAF5";
			document.getElementById("nav5").style = "background-color:#81DAF5";


		    current_view=3;
		}



		function showGraph4(){

			document.getElementById("cvs").style.visibility = "hidden";
			document.getElementById("cvs2").style.visibility = "hidden";
			document.getElementById("cvs3").style.visibility = "hidden";
			document.getElementById("cvs4").style.visibility = "visible";
			document.getElementById("cvs5").style.visibility = "hidden";

			document.getElementById("nav1").style = "background-color:#81DAF5";
			document.getElementById("nav2").style = "background-color:#81DAF5";
			document.getElementById("nav3").style = "background-color:#81DAF5";
			document.getElementById("nav4").style = "background-color:#FFBF00";
			document.getElementById("nav5").style = "background-color:#81DAF5";

		    current_view=4;
		}

        <!--End of constraint html part-->

		function showGraph5(){

			document.getElementById("cvs").style.visibility = "hidden";
			document.getElementById("cvs2").style.visibility = "hidden";
			<!--Start of constraint html part-->
			document.getElementById("cvs3").style.visibility = "hidden";
			document.getElementById("cvs4").style.visibility = "hidden";
			<!--End of constraint html part-->
			document.getElementById("cvs5").style.visibility = "visible";

			document.getElementById("nav1").style = "background-color:#81DAF5";
			document.getElementById("nav2").style = "background-color:#81DAF5";
			<!--Start of constraint html part-->
			document.getElementById("nav3").style = "background-color:#81DAF5";
			document.getElementById("nav4").style = "background-color:#81DAF5";
			<!--End of constraint html part-->
			document.getElementById("nav5").style = "background-color:#FFBF00";

		    current_view=5;
		}

		function resizeGraphs(){

			document.getElementById("cvs").width = window.innerWidth*0.9;
			document.getElementById("cvs2").width = window.innerWidth*0.9;
			document.getElementById("cvs5").width = window.innerWidth*0.9;

			document.getElementById("cvs").height = window.innerHeight-310;
			document.getElementById("cvs2").height = window.innerHeight-310;
            document.getElementById("cvs5").height = window.innerHeight-310;

			document.getElementById("nav1").style = "background-color:#81DAF5";
			document.getElementById("nav2").style = "background-color:#81DAF5";
			document.getElementById("nav5").style = "background-color:#81DAF5";

			<!--Start of constraint html part-->
			document.getElementById("cvs3").width = window.innerWidth*0.9;
			document.getElementById("cvs4").width = window.innerWidth*0.9;
            document.getElementById("cvs3").height = window.innerHeight-310;
			document.getElementById("cvs4").height = window.innerHeight-310;
            document.getElementById("nav3").style = "background-color:#81DAF5";
			document.getElementById("nav4").style = "background-color:#81DAF5";
			<!--End of constraint html part-->
		}

		function show_table() {

		    var myWindow = window.open();

		    switch(current_view) {
		    		case 1:
		    			myWindow.document.write(tableObjFct.innerHTML);
		    		break;
		    		case 2:
		    			myWindow.document.write(tableDesVar.innerHTML);
		    		break;
		    		case 3:
		    			myWindow.document.write(tableConstr.innerHTML);
		    		break;
		    		case 4:
		    			myWindow.document.write(tableConstr.innerHTML);
		    		break;
		    		case 5:
		    			myWindow.document.write(tableDesVar.innerHTML);
		    		break;
		    	}


	    }



</script>

<!-- Templates for the tables -->

<div id="tableObjFct" height=1px; width=1px; style="visibility: hidden">
    <head>
        <link rel="stylesheet" href="../style.css" type="text/css" media="screen"/>
    </head>

    <table>
        <tr>
            <th>Iteration</th>
            <th>Objective Function</th>
            <th>Constraint Value</th>
        </tr>
        xxxxtableObjFct
    </table>
</div>

<div id="tableDesVar" height=1px; width=1px; style="visibility: hidden">
    <head>
        <link rel="stylesheet" href="../style.css" type="text/css" media="screen"/>
    </head>

    <table>
        <tr>
            <th>Iteration</th>
            <th colspan="xxxxnumber_des_var">Design Variables | Denormalized</th>
        </tr>
        xxxxtableDesVar
    </table>
</div>

<div id="tableConstr" height=1px; width=1px; style="visibility: hidden">
    <head>
        <link rel="stylesheet" href="../style.css" type="text/css" media="screen"/>
    </head>

    <table>
        <tr>
            <th>Iteration</th>
            <th colspan="xxxxnumber_constraints">Constraints</th>
        </tr>
        xxxxtableConstr
    </table>
</div>


<!-- Templates for the tables end here -->

</body>
</html>
<!-- neuer kommentar -->
